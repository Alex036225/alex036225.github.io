<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>赵博 - 个人主页</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* Define CSS Variables for Light Mode */
        :root {
            /* General */
            --color-body-text: #2e3a47;
            --color-body-bg-start: #fbfcfd;
            --color-body-bg-mid: #f2f6fa;
            --color-body-bg-end: #e6f0ff;
            --color-body-text-shadow: none; /* No text shadow in light mode */

            /* Hero Background */
            --color-hero-bg-before-radial-1: rgba(0, 200, 255, 0.00); /* transparent */
            --color-hero-bg-before-radial-2: rgba(0, 200, 255, 0.00); /* transparent */
            --color-hero-bg-before-linear: rgba(0,200,255,0.00); /* transparent */
            --color-hero-bg-after-radial: rgba(0, 200, 255, 0.00); /* transparent */

            /* Scrollbar */
            --color-scrollbar-track: rgba(0, 255, 255, 0.05); /* Very subtle tint */
            --color-scrollbar-thumb-start: #00bcd4;
            --color-scrollbar-thumb-end: #007bff;
            --color-scrollbar-thumb-hover-start: #00e0ff;
            --color-scrollbar-thumb-hover-end: #00aaff;

            /* Container */
            --color-container-bg: rgba(255, 255, 255, 0.85);
            --color-container-shadow-1: rgba(0, 0, 0, 0.1);
            --color-container-shadow-2: rgba(0, 0, 0, 0.08);
            --color-container-border: rgba(220, 220, 220, 0.4);

            /* Top Navigation */
            --color-nav-bg: rgba(255, 255, 255, 0.9);
            --color-nav-shadow: rgba(0, 0, 0, 0.08);
            --color-nav-border-bottom: none;
            --color-nav-title: #000000;
            --color-nav-link-text: #4c5a6d;
            --color-nav-link-hover-bg: #e6f0ff;
            --color-nav-link-hover-text: #1a73e8;
            --color-nav-link-hover-shadow: rgba(26, 115, 232, 0.1);
            --color-nav-link-hover-border: transparent;
            --color-nav-link-active-bg-start: #1a73e8;
            --color-nav-link-active-bg-end: #155bb5;
            --color-nav-link-active-text: #ffffff;
            --color-nav-link-active-shadow: rgba(26, 115, 232, 0.4);
            --color-nav-link-active-border: transparent;

            /* Left Column / Profile */
            --color-profile-pic-border: #1a73e8;
            --color-profile-pic-shadow-1: rgba(0, 0, 0, 0.1);
            --color-profile-pic-shadow-2: rgba(26, 115, 232, 0.2);
            --color-profile-pic-hover-filter: rgba(26, 115, 232, 0.6);
            --color-left-col-border-right: rgba(220, 220, 220, 0.6);
            --color-left-col-border-bottom-mobile: rgba(220, 220, 220, 0.6);

            /* Contact Info */
            --color-contact-info-bg: rgba(252, 253, 254, 0.8);
            --color-contact-info-border: rgba(230, 230, 230, 0.6);
            --color-contact-info-shadow-1: rgba(0, 0, 0, 0.03);
            --color-contact-info-shadow-2: rgba(0, 0, 0, 0.02);
            --color-contact-item-text: #4c5a6d;
            --color-contact-icon: #1a73e8;
            --color-contact-icon-hover-filter: none; /* No glow in light mode */
            --color-contact-link: #1a73e8;
            --color-contact-link-hover: #155bb5;

            /* Right Column / Content */
            --color-intro-text: #374151;

            /* Highlight Box */
            --color-highlight-box-bg-start: #eaf6ff;
            --color-highlight-box-bg-end: #f7fdff;
            --color-highlight-box-border-left: #1a73e8;
            --color-highlight-box-text: #1a5bb5;
            --color-highlight-box-shadow-1: rgba(0, 0, 0, 0.08);
            --color-highlight-box-shadow-2: rgba(0, 0, 0, 0.03);
            --color-highlight-box-hover-shadow-1: rgba(0, 0, 0, 0.12);
            --color-highlight-box-hover-shadow-2: rgba(0, 0, 0, 0.06);
            --color-highlight-box-hover-border: rgba(220, 220, 220, 0.6);
            --color-highlight-box-keyword: #1a73e8;
            --color-highlight-box-keyword-pulse: #1a73e8;
            --color-highlight-box-keyword-shadow: none;

            /* Section Titles */
            --color-section-title-text: #1f2937;
            --color-section-title-border-start: #1a73e8;
            --color-section-title-border-end: rgba(26, 115, 232, 0.2);
            --color-section-title-accent-start: #1a73e8;
            --color-section-title-accent-end: #155bb5;
            --color-section-title-text-shadow: none;
            --color-section-title-accent-shadow: none;

            --color-subsection-title-text: #1f2937;
            --color-item-title-text: #1a73e8;
            --color-item-title-text-hover: #155bb5;
            --color-item-title-text-shadow: none;

            /* Feature Cards */
            --color-feature-card-bg: rgba(255, 255, 255, 0.9);
            --color-feature-card-border: rgba(220, 220, 220, 0.6);
            --color-feature-card-shadow-1: rgba(0, 0, 0, 0.06);
            --color-feature-card-shadow-2: rgba(0, 0, 0, 0.03);
            --color-feature-card-hover-bg: rgba(248, 251, 255, 0.95);
            --color-feature-card-hover-shadow-1: rgba(0, 0, 0, 0.1);
            --color-feature-card-hover-shadow-2: rgba(0, 0, 0, 0.05);
            --color-feature-card-hover-border: rgba(26, 115, 232, 0.5);
            --color-feature-card-icon: #1a73e8;
            --color-feature-card-icon-shadow: none;
            --color-feature-card-title: #1f2937;
            --color-feature-card-text: #4c5a6d;
            --color-feature-card-hover-title: #155bb5;
            --color-feature-card-hover-text: #374151;

            /* Lists */
            --color-list-item-text: #4c5a6d;
            --color-list-bullet-gradient-start: #1a73e8;
            --color-list-bullet-gradient-end: #6aa5dd;
            --color-list-bullet-fallback: #1a73e8;
            --color-list-bullet-shadow: none;

            /* Meta Info */
            --color-meta-info-text: #6b7280;

            /* Education/Publication Cards */
            --color-main-section-card-bg: rgba(255, 255, 255, 0.7);
            --color-main-section-card-border: rgba(220, 220, 220, 0.4);
            --color-main-section-card-shadow-1: rgba(0, 0, 0, 0.08);
            --color-main-section-card-shadow-2: rgba(0, 0, 0, 0.03);

            --color-publication-card-bg: rgba(255, 255, 255, 0.7);
            --color-publication-card-border: rgba(220, 220, 220, 0.4);
            --color-publication-card-shadow-1: rgba(0, 0, 0, 0.08);
            --color-publication-card-shadow-2: rgba(0, 0, 0, 0.03);
            --color-publication-card-hover-bg: rgba(255, 255, 255, 0.85);
            --color-publication-card-hover-shadow-1: rgba(0, 0, 0, 0.12);
            --color-publication-card-hover-shadow-2: rgba(0, 0, 0, 0.06);
            --color-publication-card-hover-border: rgba(220, 220, 220, 0.4);

            --color-publication-thumbnail-bg: #f7f7f7;
            --color-status-icon-bg: rgba(255, 255, 255, 0.9);
            --color-status-icon-shadow: rgba(0, 0, 0, 0.1);
            --color-status-icon-color: #1a73e8;
            --color-status-icon-hover-shadow: none;

            --color-publication-details-title: #1f2937;
            --color-publication-details-meta: #6b7280;
            --color-publication-details-hover-title: #1a73e8;
            --color-publication-details-hover-meta: #4c5a6d;
            --color-publication-link-text: #1a73e8;
            --color-publication-link-hover-text: #155bb5;

            /* Toggle Buttons (Read More, Dark Mode) */
            --color-toggle-button-bg: #f0f4f8;
            --color-toggle-button-border: rgba(220, 220, 220, 0.6);
            --color-toggle-button-text: #1a73e8;
            --color-toggle-button-shadow: none;
            --color-toggle-button-hover-bg: #e6f0ff;
            --color-toggle-button-hover-text: #155bb5;
            --color-toggle-button-hover-shadow: rgba(26, 115, 232, 0.1);

            /* Back to Top Button */
            --color-back-to-top-bg: rgba(26, 115, 232, 0.8);
            --color-back-to-top-color: white;
            --color-back-to-top-border: none;
            --color-back-to-top-shadow: rgba(0, 0, 0, 0.2);
            --color-back-to-top-hover-bg: rgba(26, 115, 232, 1);
            --color-back-to-top-hover-shadow: rgba(0, 0, 0, 0.3);

            /* Scroll Progress Bar */
            --color-scroll-progress-bar-start: #1a73e8;
            --color-scroll-progress-bar-end: #3f88c5;
            --color-scroll-progress-bar-shadow: none;
        }

        /* Dark Mode Overrides for CSS Variables */
        html.dark {
            /* General */
            --color-body-text: #d8dee9;
            --color-body-bg-start: #0f1c2c;
            --color-body-bg-mid: #0a141f;
            --color-body-bg-end: #070f1a;
            --color-body-text-shadow: 0 0 2px rgba(0, 255, 255, 0.05), 0 0 5px rgba(0, 255, 255, 0.02);

            /* Hero Background */
            --color-hero-bg-before-radial-1: rgba(0, 200, 255, 0.1);
            --color-hero-bg-before-radial-2: rgba(0, 200, 255, 0.08);
            --color-hero-bg-before-linear: rgba(0,200,255,0.03);
            --color-hero-bg-after-radial: rgba(0, 200, 255, 0.05);

            /* Scrollbar */
            --color-scrollbar-track: rgba(0, 255, 255, 0.03);
            --color-scrollbar-thumb-start: #00e0ff;
            --color-scrollbar-thumb-end: #00aaff;
            --color-scrollbar-thumb-hover-start: #00ffff;
            --color-scrollbar-thumb-hover-end: #00ccff;

            /* Container */
            --color-container-bg: rgba(15, 28, 44, 0.75);
            --color-container-shadow-1: rgba(0, 255, 255, 0.1);
            --color-container-shadow-2: rgba(0, 255, 255, 0.05);
            --color-container-inset-shadow: inset 0 0 15px rgba(0, 255, 255, 0.02);
            --color-container-border: rgba(0, 255, 255, 0.15);

            /* Top Navigation */
            --color-nav-bg: rgba(15, 28, 44, 0.85);
            --color-nav-shadow: 0 4px 20px rgba(0, 255, 255, 0.1);
            --color-nav-border-bottom: 1px solid rgba(0, 255, 255, 0.1);
            --color-nav-title: #e0e6ed;
            --color-nav-link-text: #92a4b9;
            --color-nav-link-hover-bg: rgba(0, 200, 255, 0.1);
            --color-nav-link-hover-text: #00e0ff;
            --color-nav-link-hover-shadow: 0 3px 15px rgba(0, 255, 255, 0.4);
            --color-nav-link-hover-border: rgba(0, 255, 255, 0.3);
            --color-nav-link-active-bg-start: #00bcd4;
            --color-nav-link-active-bg-end: #007bff;
            --color-nav-link-active-text: #ffffff;
            --color-nav-link-active-shadow: 0 4px 15px rgba(0, 255, 255, 0.6);
            --color-nav-link-active-border: #00e0ff;

            /* Left Column / Profile */
            --color-profile-pic-border: #00e0ff;
            --color-profile-pic-shadow-1: 0 8px 30px rgba(0, 255, 255, 0.2);
            --color-profile-pic-shadow-2: inset 0 0 15px rgba(0, 255, 255, 0.1);
            --color-profile-pic-hover-filter: drop-shadow(0 0 20px rgba(0, 255, 255, 0.8));
            --color-left-col-border-right: rgba(0, 255, 255, 0.1);
            --color-left-col-border-bottom-mobile: rgba(0, 255, 255, 0.1);

            /* Contact Info */
            --color-contact-info-bg: rgba(25, 45, 65, 0.85);
            --color-contact-info-border: rgba(0, 255, 255, 0.1);
            --color-contact-info-shadow-1: 0 3px 15px rgba(0, 255, 255, 0.1);
            --color-contact-info-shadow-2: inset 0 0 8px rgba(0, 255, 255, 0.05);
            --color-contact-item-text: #d8dee9;
            --color-contact-icon: #00e0ff;
            --color-contact-icon-hover-filter: drop-shadow(0 0 8px rgba(0, 255, 255, 0.6));
            --color-contact-link: #00e0ff;
            --color-contact-link-hover: #00aaff;

            /* Right Column / Content */
            --color-intro-text: #d8dee9;

            /* Highlight Box */
            --color-highlight-box-bg-start: rgba(0, 200, 255, 0.05);
            --color-highlight-box-bg-end: rgba(0, 200, 255, 0.02);
            --color-highlight-box-border-left: #00e0ff;
            --color-highlight-box-text: #b0c0d0;
            --color-highlight-box-shadow-1: 0 5px 20px rgba(0, 255, 255, 0.2);
            --color-highlight-box-shadow-2: 0 0 30px rgba(0, 255, 255, 0.1);
            --color-highlight-box-inset-shadow: inset 0 0 10px rgba(0, 255, 255, 0.05);
            --color-highlight-box-border-top: 1px solid rgba(0, 255, 255, 0.08);
            --color-highlight-box-border-right: 1px solid rgba(0, 255, 255, 0.05);
            --color-highlight-box-hover-shadow-1: 0 15px 50px rgba(0, 255, 255, 0.3);
            --color-highlight-box-hover-shadow-2: 0 0 80px rgba(0, 255, 255, 0.15);
            --color-highlight-box-hover-border: rgba(0, 255, 255, 0.3);
            --color-highlight-box-keyword: #00ffff;
            --color-highlight-box-keyword-pulse: #00ffff;
            --color-highlight-box-keyword-shadow: 0 0 15px rgba(0, 255, 255, 0.8), 0 0 25px rgba(0, 255, 255, 0.5);

            /* Section Titles */
            --color-section-title-text: #e0e6ed;
            --color-section-title-border-start: #00e0ff;
            --color-section-title-border-end: rgba(0, 255, 255, 0.2);
            --color-section-title-accent-start: #00e0ff;
            --color-section-title-accent-end: #007bff;
            --color-section-title-text-shadow: 0 0 5px rgba(0, 255, 255, 0.2);
            --color-section-title-accent-shadow: 0 0 10px rgba(0, 255, 255, 0.6);

            --color-subsection-title-text: #e0e6ed;
            --color-item-title-text: #00ffff;
            --color-item-title-text-hover: #00aaff;
            --color-item-title-text-shadow: 0 0 5px rgba(0, 255, 255, 0.2);

            /* Feature Cards */
            --color-feature-card-bg: rgba(25, 45, 65, 0.8);
            --color-feature-card-border: rgba(0, 255, 255, 0.1);
            --color-feature-card-shadow-1: 0 4px 20px rgba(0, 255, 255, 0.1);
            --color-feature-card-shadow-2: inset 0 0 8px rgba(0, 255, 255, 0.03);
            --color-feature-card-hover-bg: rgba(30, 50, 70, 0.9);
            --color-feature-card-hover-shadow-1: 0 10px 30px rgba(0, 255, 255, 0.3);
            --color-feature-card-hover-shadow-2: inset 0 0 15px rgba(0, 255, 255, 0.1);
            --color-feature-card-hover-border: rgba(0, 255, 255, 0.5);
            --color-feature-card-icon: #00e0ff;
            --color-feature-card-icon-shadow: 0 0 10px rgba(0, 255, 255, 0.8);
            --color-feature-card-title: #e0e6ed;
            --color-feature-card-text: #b0c0d0;
            --color-feature-card-hover-title: #00ffff;
            --color-feature-card-hover-text: #e0e6ed;

            /* Lists */
            --color-list-item-text: #b0c0d0;
            --color-list-bullet-gradient-start: #00e0ff;
            --color-list-bullet-gradient-end: #00aaff;
            --color-list-bullet-fallback: #00e0ff;
            --color-list-bullet-shadow: 0 0 5px rgba(0, 255, 255, 0.5);

            /* Meta Info */
            --color-meta-info-text: #92a4b9;

            /* Education/Publication Cards */
            --color-main-section-card-bg: rgba(25, 45, 65, 0.75);
            --color-main-section-card-border: rgba(0, 255, 255, 0.1);
            --color-main-section-card-shadow-1: 0 5px 20px rgba(0, 255, 255, 0.2);
            --color-main-section-card-shadow-2: inset 0 0 10px rgba(0, 255, 255, 0.05);

            --color-publication-card-bg: rgba(25, 45, 65, 0.7);
            --color-publication-card-border: rgba(0, 255, 255, 0.1);
            --color-publication-card-shadow-1: 0 5px 20px rgba(0, 255, 255, 0.15);
            --color-publication-card-shadow-2: inset 0 0 8px rgba(0, 255, 255, 0.05);
            --color-publication-card-hover-bg: rgba(30, 50, 70, 0.85);
            --color-publication-card-hover-shadow-1: 0 15px 50px rgba(0, 255, 255, 0.4);
            --color-publication-card-hover-shadow-2: inset 0 0 10px rgba(0, 255, 255, 0.1);
            --color-publication-card-hover-border: rgba(0, 255, 255, 0.4);

            --color-publication-thumbnail-bg: #1a2a3a;
            --color-status-icon-bg: rgba(0, 255, 255, 0.1);
            --color-status-icon-shadow: 0 0 10px rgba(0, 255, 255, 0.4);
            --color-status-icon-color: #00e0ff;
            --color-status-icon-hover-shadow: 0 0 15px rgba(0, 255, 255, 0.8);

            --color-publication-details-title: #e0e6ed;
            --color-publication-details-meta: #92a4b9;
            --color-publication-details-hover-title: #00ffff;
            --color-publication-details-hover-meta: #b0c0d0;
            --color-publication-link-text: #00e0ff;
            --color-publication-link-hover-text: #00aaff;

            /* Toggle Buttons (Read More, Dark Mode) */
            --color-toggle-button-bg: rgba(0, 255, 255, 0.08);
            --color-toggle-button-border: rgba(0, 255, 255, 0.2);
            --color-toggle-button-text: #00e0ff;
            --color-toggle-button-shadow: 0 0 10px rgba(0, 255, 255, 0.3);
            --color-toggle-button-hover-bg: rgba(0, 255, 255, 0.15);
            --color-toggle-button-hover-text: #00ffff;
            --color-toggle-button-hover-shadow: 0 0 15px rgba(0, 255, 255, 0.6);

            /* Back to Top Button */
            --color-back-to-top-bg: rgba(0, 200, 255, 0.7);
            --color-back-to-top-color: white;
            --color-back-to-top-border: 1px solid rgba(0, 255, 255, 0.3);
            --color-back-to-top-shadow: 0 4px 15px rgba(0, 255, 255, 0.4);
            --color-back-to-top-hover-bg: rgba(0, 255, 255, 0.9);
            --color-back-to-top-hover-shadow: 0 6px 20px rgba(0, 255, 255, 0.8);

            /* Scroll Progress Bar */
            --color-scroll-progress-bar-start: #00e0ff;
            --color-scroll-progress-bar-end: #00aaff;
            --color-scroll-progress-bar-shadow: 0 0 8px rgba(0, 255, 255, 0.5);
        }

        /* Base body styles, with a dark, techy gradient background and Inter font */
        body {
            font-family: 'Inter', sans-serif;
            color: var(--color-body-text); /* Use CSS Variable */
            line-height: 1.75;
            margin: 0;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            background: linear-gradient(135deg, var(--color-body-bg-start), var(--color-body-bg-mid), var(--color-body-bg-end)); /* Use CSS Variables */
            transition: color 0.5s ease, background 0.5s ease; /* Transition for theme changes */
            overflow-y: scroll;
            position: relative;
            z-index: 1;
            text-shadow: var(--color-body-text-shadow); /* Use CSS Variable */
        }

        /* Hero Background specific styles - more dynamic and abstract tech patterns */
        #hero-background {
            position: fixed;
            inset: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: 0;
            background-size: 200% 200%;
            animation: flowingGradient 20s ease infinite alternate; /* Slower, more deliberate animation */
            transition: background 0.5s ease; /* Transition for background gradient */
        }

        /* Keyframe animation for flowing gradient (subtle shift) */
        @keyframes flowingGradient {
            0% { background-position: 0% 0%; }
            100% { background-position: 100% 100%; }
        }

        /* Particle animation (now more like subtle data points or circuit glows) */
        #hero-background::before,
        #hero-background::after {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            pointer-events: none;
            z-index: 1;
        }

        #hero-background::before {
            /* More defined, sharp-edged patterns with glowing blue/cyan */
            background: radial-gradient(circle at 20% 80%, var(--color-hero-bg-before-radial-1) 0%, transparent 40%),
                        radial-gradient(circle at 80% 20%, var(--color-hero-bg-before-radial-2) 0%, transparent 40%),
                        repeating-linear-gradient(0deg, var(--color-hero-bg-before-linear), transparent 1px, transparent 20px),
                        repeating-linear-gradient(90deg, var(--color-hero-bg-before-linear), transparent 1px, transparent 20px);
            animation: move-bg 40s infinite linear;
            opacity: 0.9;
            transition: background 0.5s ease; /* Transition for theme changes */
        }

        #hero-background::after {
            background: radial-gradient(circle at 50% 50%, var(--color-hero-bg-after-radial) 0%, transparent 60%);
            animation: move-bg-alt 55s infinite linear;
            opacity: 0.7;
            transition: background 0.5s ease; /* Transition for theme changes */
        }

        @keyframes move-bg {
            0% { transform: translate(0, 0); }
            100% { transform: translate(150px, 150px); }
        }

        @keyframes move-bg-alt {
            0% { transform: translate(0, 0); }
            100% { transform: translate(-200px, -200px); }
        }

        /* Custom Scrollbar Styling (techy blue/cyan) */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: var(--color-scrollbar-track);
            border-radius: 10px;
            transition: background 0.5s ease; /* Transition for theme changes */
        }
        ::-webkit-scrollbar-thumb {
            background: linear-gradient(180deg, var(--color-scrollbar-thumb-start), var(--color-scrollbar-thumb-end));
            border-radius: 10px;
            transition: background 0.3s ease; /* Transition for theme changes */
        }
        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(180deg, var(--color-scrollbar-thumb-hover-start), var(--color-scrollbar-thumb-hover-end));
        }

        /* --- Custom CSS for Name, Location, Phone Clarity and Font Style (Higher Priority and Mode-Specific) --- */
        /* For the large name "赵博" below the profile picture */
        .left-col h2 {
            color: var(--color-main-title); /* Use CSS Variable */
            font-family: 'Inter', sans-serif !important;
            transition: color 0.5s ease;
        }

        /* For the name "赵博" in the top navigation bar */
        .top-nav > div.text-2xl {
            color: var(--color-nav-title); /* Use CSS Variable */
            font-family: 'Inter', sans-serif !important;
            transition: color 0.5s ease;
            cursor: pointer;
        }

        /* For the location "中国深圳" */
        .left-col p.text-gray-700 {
            color: var(--color-location-text); /* Use CSS Variable */
            font-family: 'Inter', sans-serif !important;
            transition: color 0.5s ease;
        }

        /* For the phone number "15771116225" and other contact links */
        .contact-item span.text-gray-700,
        .contact-item a.text-gray-700 {
            color: var(--color-contact-item-text); /* Use CSS Variable */
            transition: color 0.5s ease;
        }
        /* --- End Custom CSS --- */

        /* Main content container - sharper glass effect, more defined shadows */
        .container {
            max-width: 1100px;
            margin: 30px auto;
            background-color: var(--color-container-bg); /* Use CSS Variable */
            backdrop-filter: blur(30px) saturate(1.5);
            -webkit-backdrop-filter: blur(30px) saturate(1.5);
            border-radius: 20px;
            box-shadow: 0 10px 40px var(--color-container-shadow-1), 0 0 60px var(--color-container-shadow-2), var(--color-container-inset-shadow); /* Use CSS Variables */
            padding: 35px;
            display: flex;
            gap: 50px;
            flex-grow: 1;
            border: 1px solid var(--color-container-border); /* Use CSS Variable */
            transition: background-color 0.5s ease, box-shadow 0.5s ease, border-color 0.5s ease, backdrop-filter 0.5s ease;
            position: relative;
            z-index: 1;
        }

        /* Top navigation bar styles - more robust glass effect */
        .top-nav {
            background-color: var(--color-nav-bg); /* Use CSS Variable */
            backdrop-filter: blur(25px) saturate(1.5);
            -webkit-backdrop-filter: blur(25px) saturate(1.5);
            padding: 15px 40px;
            border-bottom: var(--color-nav-border-bottom); /* Use CSS Variable */
            box-shadow: var(--color-nav-shadow); /* Use CSS Variable */
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            position: sticky;
            top: 0;
            z-index: 1000;
            transition: background-color 0.5s ease, box-shadow 0.5s ease, border-color 0.5s ease, backdrop-filter 0.5s ease;
        }

        .top-nav-link {
            color: var(--color-nav-link-text); /* Use CSS Variable */
            font-weight: 500;
            padding: 10px 20px;
            border-radius: 9999px;
            transition: background-color 0.3s ease-in-out, color 0.3s ease-in-out, transform 0.2s ease-in-out, box-shadow 0.3s ease-in-out, border-color 0.3s ease-in-out;
            white-space: nowrap;
            border: 1px solid var(--color-nav-link-border); /* Use CSS Variable */
        }

        .top-nav-link:hover {
            background-color: var(--color-nav-link-hover-bg); /* Use CSS Variable */
            color: var(--color-nav-link-hover-text); /* Use CSS Variable */
            transform: translateY(-2px);
            box-shadow: var(--color-nav-link-hover-shadow); /* Use CSS Variable */
            border-color: var(--color-nav-link-hover-border); /* Use CSS Variable */
            text-decoration: none;
        }

        .top-nav-link.active {
            background: linear-gradient(135deg, var(--color-nav-link-active-bg-start), var(--color-nav-link-active-bg-end)); /* Use CSS Variable */
            color: var(--color-nav-link-active-text); /* Use CSS Variable */
            font-weight: 600;
            box-shadow: var(--color-nav-link-active-shadow); /* Use CSS Variable */
            transform: translateY(-1px);
            border-color: var(--color-nav-link-active-border); /* Use CSS Variable */
        }

        /* Left column styles */
        .left-col {
            flex: 1;
            min-width: 280px;
            max-width: 320px;
            padding-right: 20px;
            border-right: 1px solid var(--color-left-col-border-right); /* Use CSS Variable */
            transition: border-color 0.5s ease;
        }

        /* Profile photo styles - more refined with hover glow */
        .profile-pic {
            width: 220px;
            height: 220px;
            border-radius: 50%;
            object-fit: cover;
            margin: 0 auto 25px auto;
            display: block;
            border: 5px solid var(--color-profile-pic-border); /* Use CSS Variable */
            box-shadow: var(--color-profile-pic-shadow-1), var(--color-profile-pic-shadow-2); /* Use CSS Variables */
            transition: transform 0.3s ease-in-out, border-color 0.5s ease, box-shadow 0.5s ease, filter 0.3s ease;
        }
        .profile-pic:hover {
            transform: scale(1.04);
            filter: var(--color-profile-pic-hover-filter); /* Use CSS Variable */
        }

        /* Image loading effect: blur-in */
        .image-loading-blur {
            filter: blur(10px);
            transition: filter 0.7s ease-out;
        }
        .image-loaded {
            filter: blur(0);
        }

        /* Contact info box styles - techy glass look */
        .contact-info {
            background-color: var(--color-contact-info-bg); /* Use CSS Variable */
            backdrop-filter: blur(15px) saturate(1.5);
            -webkit-backdrop-filter: blur(15px) saturate(1.5);
            padding: 25px;
            border-radius: 16px;
            margin-top: 30px;
            border: 1px solid var(--color-contact-info-border); /* Use CSS Variable */
            box-shadow: var(--color-contact-info-shadow-1), var(--color-contact-info-shadow-2); /* Use CSS Variables */
            transition: background-color 0.5s ease, box-shadow 0.5s ease, border-color 0.5s ease, backdrop-filter 0.5s ease;
        }

        /* Individual contact info item styles with refined icon effects */
        .contact-item {
            display: flex;
            align-items: center;
            margin-bottom: 14px;
            color: var(--color-contact-item-text); /* Use CSS Variable */
            font-size: 1rem;
            transition: color 0.5s ease;
        }
        .contact-item i {
            color: var(--color-contact-icon); /* Use CSS Variable */
            width: 30px;
            text-align: center;
            margin-right: 15px;
            font-size: 1.35em;
            transition: color 0.5s ease, transform 0.2s ease-out, filter 0.2s ease-out;
        }
        .contact-item:hover i {
            transform: scale(1.1);
            filter: var(--color-contact-icon-hover-filter); /* Use CSS Variable */
        }

        .contact-item a {
            color: var(--color-contact-link); /* Use CSS Variable */
            transition: color 0.2s ease-in-out;
        }
        .contact-item a:hover {
            color: var(--color-contact-link-hover); /* Use CSS Variable */
            text-decoration: underline;
        }

        /* Right column styles */
        .right-col {
            flex: 3;
            padding-left: 20px;
        }
        /* Intro text styles */
        .intro-text {
            font-size: 1.15rem;
            line-height: 1.8;
            letter-spacing: 0.01em;
            margin-bottom: 30px;
            color: var(--color-intro-text); /* Use CSS Variable */
        }

        /* Quote/key info highlight box - refined techy look */
        .highlight-box {
            background: linear-gradient(to right, var(--color-highlight-box-bg-start), var(--color-highlight-box-bg-end)); /* Use CSS Variables */
            border-left: 6px solid var(--color-highlight-box-border-left); /* Use CSS Variable */
            padding: 28px;
            border-radius: 16px;
            margin-bottom: 35px;
            color: var(--color-highlight-box-text); /* Use CSS Variable */
            font-size: 1.08rem;
            line-height: 1.7;
            box-shadow: 0 5px 20px var(--color-highlight-box-shadow-1), 0 0 30px var(--color-highlight-box-shadow-2), var(--color-highlight-box-inset-shadow); /* Use CSS Variables */
            backdrop-filter: blur(10px) saturate(1.2);
            -webkit-backdrop-filter: blur(10px) saturate(1.2);
            border-top: var(--color-highlight-box-border-top); /* Use CSS Variable */
            border-right: var(--color-highlight-box-border-right); /* Use CSS Variable */
            transition: background 0.5s ease, border-left-color 0.5s ease, color 0.5s ease,
                        box-shadow 0.3s ease-in-out, transform 0.3s ease-in-out, backdrop-filter 0.5s ease, border-color 0.5s ease;
        }
        /* Hover effect for highlight box, mirroring publication cards */
        .highlight-box:hover {
            transform: translateY(-5px) scale(1.005);
            box-shadow: 0 15px 50px var(--color-highlight-box-hover-shadow-1), 0 0 80px var(--color-highlight-box-hover-shadow-2); /* Use CSS Variables */
            border-color: var(--color-highlight-box-hover-border); /* Use CSS Variable */
        }

        /* Style for highlighted keywords within the highlight-box */
        .highlight-box .font-semibold {
            color: var(--color-highlight-box-keyword); /* Use CSS Variable */
            text-shadow: var(--color-highlight-box-keyword-shadow); /* Use CSS Variable */
            transition: color 0.3s ease, text-shadow 0.3s ease;
        }

        /* Initial hidden state for highlight-box for fade-in effect */
        .highlight-box.intro-hidden {
            opacity: 0;
            transform: translateY(10px);
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
        }
        /* Visible state for highlight-box for fade-in effect */
        .highlight-box.intro-visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* Keyframe animation for keyword pulse (electric pulse) */
        @keyframes keywordPulse {
            0% { transform: scale(1); color: inherit; text-shadow: none; }
            50% { transform: scale(1.05); color: var(--color-highlight-box-keyword-pulse); text-shadow: var(--color-highlight-box-keyword-shadow); } /* Use CSS Variables */
            100% { transform: scale(1); color: inherit; text-shadow: none; }
        }
        /* Class to apply the keyword pulse animation */
        .highlight-box .keyword-to-animate.animate-pulse-keyword {
            animation: keywordPulse 1.5s ease-in-out forwards;
        }

        /* Feature card grid */
        .card-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(170px, 1fr));
            gap: 20px;
            margin-top: 35px;
        }
        /* Individual feature card styles - techy squircle and soft shadow */
        .feature-card {
            background-color: var(--color-feature-card-bg); /* Use CSS Variable */
            backdrop-filter: blur(10px) saturate(1.2);
            -webkit-backdrop-filter: blur(10px) saturate(1.2);
            border: 1px solid var(--color-feature-card-border); /* Use CSS Variable */
            border-radius: 16px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 4px 20px var(--color-feature-card-shadow-1), var(--color-feature-card-shadow-2); /* Use CSS Variables */
            transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out, background-color 0.3s ease-in-out, border-color 0.3s ease-in-out, backdrop-filter 0.5s ease;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .feature-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 10px 30px var(--color-feature-card-hover-shadow-1), var(--color-feature-card-hover-shadow-2); /* Use CSS Variables */
            background-color: var(--color-feature-card-hover-bg); /* Use CSS Variable */
            border-color: var(--color-feature-card-hover-border); /* Use CSS Variable */
        }

        .feature-card i {
            font-size: 2rem;
            color: var(--color-feature-card-icon); /* Use CSS Variable */
            margin-bottom: 15px;
            transition: color 0.5s ease, transform 0.2s ease-out, text-shadow 0.2s ease-out;
        }
        .feature-card:hover i {
            transform: scale(1.1);
            text-shadow: var(--color-feature-card-icon-shadow); /* Use CSS Variable */
        }

        .feature-card h3 {
            font-weight: 700;
            font-size: 1.1rem;
            color: var(--color-feature-card-title); /* Use CSS Variable */
            margin-bottom: 8px;
            transition: color 0.5s ease;
        }
        .feature-card p {
            font-size: 0.95rem;
            line-height: 1.5;
            color: var(--color-feature-card-text); /* Use CSS Variable */
            transition: color 0.5s ease;
        }
        /* Highlight text inside feature card on hover */
        .feature-card:hover h3 {
            color: var(--color-feature-card-hover-title); /* Use CSS Variable */
        }
        .feature-card:hover p {
            color: var(--color-feature-card-hover-text); /* Use CSS Variable */
        }

        /* Section title styles - more tech quality */
        .section-title {
            font-weight: 800;
            font-size: 2.2rem;
            color: var(--color-section-title-text); /* Use CSS Variable */
            margin-bottom: 25px;
            position: relative;
            padding-left: 35px;
            border-bottom: 2px solid;
            border-image: linear-gradient(to right, var(--color-section-title-border-start), var(--color-section-title-border-end), transparent) 1; /* Use CSS Variables */
            padding-bottom: 12px;
            margin-top: 50px;
            letter-spacing: 0.05em;
            text-shadow: var(--color-section-title-text-shadow); /* Use CSS Variable */
            transition: color 0.5s ease, border-image 0.5s ease, text-shadow 0.5s ease;
        }

        /* Vertical accent bar next to section title - refined gradient */
        .section-title::before {
            content: '';
            position: absolute;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 10px;
            height: 90%;
            background: linear-gradient(to bottom, var(--color-section-title-accent-start), var(--color-section-title-accent-end)); /* Use CSS Variables */
            border-radius: 3px;
            box-shadow: var(--color-section-title-accent-shadow); /* Use CSS Variable */
            transition: background 0.5s ease, box-shadow 0.5s ease;
        }

        /* Subsection title - for top-level sections that are not `section-title` */
        .subsection-title {
            font-weight: 700;
            font-size: 1.35rem;
            color: var(--color-subsection-title-text); /* Use CSS Variable */
            margin-top: 2rem;
            margin-bottom: 0.6rem;
            transition: color 0.5s ease;
        }

        /* New: Subsection title style specifically for inside main-section-card */
        .subsection-title-in-card {
            font-weight: 700;
            font-size: 1.6rem;
            color: var(--color-subsection-title-text); /* Use CSS Variable */
            margin-top: 30px;
            margin-bottom: 20px;
            transition: color 0.5s ease;
            padding-left: 0;
            border-bottom: none;
        }

        /* Individual item title */
        .item-title {
            font-weight: 700;
            color: var(--color-item-title-text); /* Use CSS Variable */
            margin-bottom: 0.3rem;
            font-size: 1.15rem;
            transition: color 0.5s ease;
            text-shadow: var(--color-item-title-text-shadow); /* Use CSS Variable */
        }
        .item-title a { /* Specific for links within item-title */
            color: var(--color-item-title-text);
        }
        .item-title a:hover {
            color: var(--color-item-title-text-hover);
        }

        /* Project contribution list styles */
        ul {
            list-style: none;
            margin-left: 0;
            padding-left: 0;
        }
        li {
            margin-bottom: 0.7rem;
            padding-left: 1.8em;
            text-indent: -1.8em;
            color: var(--color-list-item-text); /* Use CSS Variable */
            transition: color 0.5s ease;
        }
        .project-contribution-list li::before {
            content: '•';
            /* Applying a subtle glowing gradient to the bullet point */
            background: linear-gradient(to right, var(--color-list-bullet-gradient-start), var(--color-list-bullet-gradient-end)); /* Use CSS Variables */
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            color: var(--color-list-bullet-fallback); /* Fallback */
            font-weight: bold;
            display: inline-block;
            width: 0.8em;
            padding-right: 0.2em;
            text-shadow: var(--color-list-bullet-shadow); /* Use CSS Variable */
            transition: color 0.5s ease, background 0.5s ease, text-shadow 0.5s ease;
        }

        /* Meta info (date, status) */
        .meta-info {
            color: var(--color-meta-info-text); /* Use CSS Variable */
            font-size: 0.9em;
            margin-bottom: 0.8rem;
            transition: color 0.5s ease;
        }

        /* New styles for profession and date combination */
        .education-details {
            display: flex;
            justify-content: space-between;
            align-items: baseline;
            color: var(--color-education-details); /* Use CSS Variable */
            font-size: 1rem;
            margin-top: 0.3rem;
            margin-bottom: 0.9rem;
            flex-wrap: wrap;
            transition: color 0.5s ease;
        }
        .education-details .major {
            font-weight: 600;
        }
        .education-details .dates {
            color: var(--color-education-dates); /* Use CSS Variable */
            font-size: 0.9em;
            white-space: nowrap;
            transition: color 0.5s ease;
        }

        /* Section transition styles */
        .section-content {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
            display: none;
        }

        .section-content.active-section {
            opacity: 1;
            transform: translateY(0);
            display: block;
            position: relative;
        }

        /* Ensure right-col can contain absolutely positioned children */
        .right-col {
            position: relative;
        }

        /* Dark mode toggle button styles - techy button */
        #darkModeToggle {
            background-color: var(--color-toggle-button-bg); /* Use CSS Variable */
            border: 1px solid var(--color-toggle-button-border); /* Use CSS Variable */
            border-radius: 9999px;
            padding: 8px 12px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.1rem;
            color: var(--color-toggle-button-text); /* Use CSS Variable */
            box-shadow: var(--color-toggle-button-shadow); /* Use CSS Variable */
            transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease, transform 0.2s ease;
            margin-left: 20px;
            flex-shrink: 0;
        }
        #darkModeToggle i {
            margin: 0;
            transition: transform 0.3s ease;
        }
        #darkModeToggle:hover {
            background-color: var(--color-toggle-button-hover-bg); /* Use CSS Variable */
            color: var(--color-toggle-button-hover-text); /* Use CSS Variable */
            box-shadow: var(--color-toggle-button-hover-shadow); /* Use CSS Variable */
            transform: scale(1.05);
        }
        html.dark #darkModeToggle i {
            transform: rotate(180deg);
        }

        /* Scroll progress bar styles - more vibrant */
        #scroll-progress-bar {
            position: absolute;
            bottom: 0;
            left: 0;
            height: 4px;
            background: linear-gradient(to right, var(--color-scroll-progress-bar-start), var(--color-scroll-progress-bar-end)); /* Use CSS Variables */
            width: 0%;
            border-radius: 0 0 4px 4px;
            transition: width 0.1s linear, background 0.5s ease, box-shadow 0.5s ease;
            z-index: 1001;
            box-shadow: var(--color-scroll-progress-bar-shadow); /* Use CSS Variable */
        }

        /* New styles for a general section content card wrapper */
        .main-section-card {
            background-color: var(--color-main-section-card-bg); /* Use CSS Variable */
            backdrop-filter: blur(15px) saturate(1.2);
            -webkit-backdrop-filter: blur(15px) saturate(1.2);
            border: 1px solid var(--color-main-section-card-border); /* Use CSS Variable */
            border-radius: 16px;
            box-shadow: var(--color-main-section-card-shadow-1), var(--color-main-section-card-shadow-2); /* Use CSS Variables */
            padding: 25px;
            margin-top: 25px;
            transition: background-color 0.3s ease, box-shadow 0.3s ease, border-color 0.3s ease, backdrop-filter 0.5s ease;
        }

        /* New styles for publication cards - techy, glowing cards */
        .publication-card {
            display: flex;
            background-color: var(--color-publication-card-bg); /* Use CSS Variable */
            backdrop-filter: blur(10px) saturate(1.2);
            -webkit-backdrop-filter: blur(10px) saturate(1.2);
            border: 1px solid var(--color-publication-card-border); /* Use CSS Variable */
            border-radius: 16px;
            box-shadow: var(--color-publication-card-shadow-1), var(--color-publication-card-shadow-2); /* Use CSS Variables */
            margin-bottom: 25px;
            overflow: hidden;
            transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out, background-color 0.3s ease-in-out, border-color 0.3s ease-in-out, backdrop-filter 0.5s ease;
            position: relative;
        }

        .publication-card:hover {
            transform: translateY(-5px) scale(1.005);
            box-shadow: var(--color-publication-card-hover-shadow-1), var(--color-publication-card-hover-shadow-2); /* Use CSS Variables */
            background-color: var(--color-publication-card-hover-bg); /* Use CSS Variable */
            border-color: var(--color-publication-card-hover-border); /* Use CSS Variable */
        }

        .publication-thumbnail {
            flex-shrink: 0;
            width: 150px;
            height: 120px;
            position: relative;
            background-color: var(--color-publication-thumbnail-bg); /* Use CSS Variable */
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background-color 0.5s ease;
        }
            
        .publication-thumbnail img {
            width: 80%;
            height: 80%;
            object-fit: contain;
            border-radius: 0;
        }

        .publication-thumbnail .status-icon {
            position: absolute;
            top: 8px;
            right: 8px;
            background-color: var(--color-status-icon-bg); /* Use CSS Variable */
            border-radius: 50%;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: var(--color-status-icon-shadow); /* Use CSS Variable */
            color: var(--color-status-icon-color); /* Use CSS Variable */
            transition: background-color 0.3s ease, color 0.3s ease, transform 0.2s ease-out, box-shadow 0.3s ease;
        }
        .publication-thumbnail .status-icon:hover {
            transform: scale(1.15);
            box-shadow: var(--color-status-icon-hover-shadow); /* Use CSS Variable */
        }

        .publication-details {
            flex-grow: 1;
            padding: 20px;
            text-align: left;
        }
        .publication-details .item-title {
            margin-bottom: 5px;
            font-size: 1.05rem;
            font-weight: 700;
            color: var(--color-publication-details-title); /* Use CSS Variable */
            transition: color 0.3s ease;
        }
        .publication-card:hover .publication-details .item-title {
            color: var(--color-publication-details-hover-title); /* Use CSS Variable */
        }

        .publication-details .meta-info {
            color: var(--color-publication-details-meta); /* Use CSS Variable */
            font-size: 0.85em;
            line-height: 1.4;
            margin-bottom: 10px;
            transition: color 0.3s ease;
        }
        .publication-card:hover .publication-details .meta-info {
            color: var(--color-publication-details-hover-meta); /* Use CSS Variable */
        }

        .publication-details .project-contribution-list {
            margin-top: 10px;
        }
        .publication-details .project-contribution-list li {
            margin-bottom: 5px;
            font-size: 0.9em;
            line-height: 1.5;
            color: var(--color-list-item-text); /* Use CSS Variable */
            transition: color 0.3s ease;
        }
        .publication-details .project-contribution-list li::before {
            content: '•';
            background: linear-gradient(to right, var(--color-list-bullet-gradient-start), var(--color-list-bullet-gradient-end)); /* Use CSS Variables */
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            color: var(--color-list-bullet-fallback); /* Fallback */
            font-weight: bold;
            display: inline-block;
            width: 0.8em;
            padding-right: 0.2em;
            text-shadow: var(--color-list-bullet-shadow); /* Use CSS Variable */
            transition: color 0.5s ease, background 0.5s ease, text-shadow 0.5s ease;
        }

        /* Styles for the collapsible content */
        .collapsible-content {
            max-height: 0;
            overflow: hidden;
            opacity: 0;
            transition: max-height 0.5s ease-out, opacity 0.5s ease-out;
            margin-top: 0;
        }
        .collapsible-content.expanded {
            max-height: 500px;
            opacity: 1;
            margin-top: 10px;
        }

        /* Styles for the toggle button - techy button */
        .toggle-button {
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: var(--color-toggle-button-bg); /* Use CSS Variable */
            color: var(--color-toggle-button-text); /* Use CSS Variable */
            padding: 8px 15px;
            border-radius: 9999px;
            border: 1px solid var(--color-toggle-button-border); /* Use CSS Variable */
            font-size: 0.9em;
            font-weight: 600;
            cursor: pointer;
            margin-top: 15px;
            transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease, transform 0.2s ease;
            white-space: nowrap;
            box-shadow: var(--color-toggle-button-shadow); /* Use CSS Variable */
        }

        .toggle-button:hover {
            background-color: var(--color-toggle-button-hover-bg); /* Use CSS Variable */
            color: var(--color-toggle-button-hover-text); /* Use CSS Variable */
            box-shadow: var(--color-toggle-button-hover-shadow); /* Use CSS Variable */
            transform: translateY(-2px);
        }

        .toggle-button i {
            margin-left: 8px;
            transition: transform 0.3s ease;
        }
        .toggle-button.expanded i {
            transform: rotate(180deg);
        }

        /* Back to Top button styles - techy floating button */
        #backToTopBtn {
            display: none;
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 999;
            font-size: 1.5rem;
            background-color: var(--color-back-to-top-bg); /* Use CSS Variable */
            color: var(--color-back-to-top-color); /* Use CSS Variable */
            cursor: pointer;
            padding: 10px 15px;
            border-radius: 50%;
            border: var(--color-back-to-top-border); /* Use CSS Variable */
            box-shadow: var(--color-back-to-top-shadow); /* Use CSS Variable */
            transition: background-color 0.3s ease, transform 0.3s ease, opacity 0.3s ease, box-shadow 0.3s ease;
            opacity: 0;
        }

        #backToTopBtn:hover {
            background-color: var(--color-back-to-top-hover-bg); /* Use CSS Variable */
            transform: translateY(-5px) scale(1.05);
            box-shadow: var(--color-back-to-top-hover-shadow); /* Use CSS Variable */
        }
        #backToTopBtn.show {
            opacity: 1;
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .container {
                border-radius: 16px;
                flex-direction: column;
                gap: 20px;
                padding: 20px;
                margin: 20px auto;
            }
            .publication-card {
                flex-direction: column;
                border-radius: 16px;
            }
            .publication-thumbnail {
                width: 100%;
                height: 150px;
                border-radius: 16px 16px 0 0;
            }
            .publication-thumbnail img {
                border-radius: 16px 16px 0 0;
            }
            .publication-details {
                padding: 15px;
            }
            .left-col {
                border-right: none;
                padding-right: 0;
                border-bottom: 1px solid var(--color-left-col-border-bottom-mobile); /* Use CSS Variable */
                max-width: 100%;
                min-width: unset;
                padding-bottom: 20px;
            }
            .right-col {
                padding-left: 0;
                margin-top: 20px;
            }
            .top-nav {
                padding: 10px 20px;
            }
            .top-nav > div.text-2xl {
                width: 100%;
                text-align: center;
                margin-bottom: 10px;
            }
            .top-nav .flex {
                justify-content: center;
            }
            .top-nav-link {
                padding: 8px 15px;
                font-size: 0.9rem;
            }
            #darkModeToggle {
                margin-left: 10px;
                padding: 6px 10px;
                font-size: 1rem;
            }
            .section-title {
                font-size: 1.8rem;
                padding-left: 25px;
            }
            .section-title::before {
                width: 8px;
            }
            .highlight-box {
                padding: 20px;
                border-radius: 16px;
            }
            .card-grid {
                grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            }
            .feature-card {
                border-radius: 16px;
            }
        }
    </style>
</head>
<body class="antialiased">
    <!-- Hero Background Element -->
    <div id="hero-background"></div>

    <nav class="top-nav">
        <!-- Added id="mainTitle" and cursor: pointer style for clickability -->
        <div id="mainTitle" class="text-2xl font-bold mb-3 md:mb-0 transition-colors duration-500">赵博</div>
        <div class="flex flex-wrap md:space-x-4 space-x-2 justify-center md:justify-start w-full md:w-auto">
            <a href="#about-me-section" class="top-nav-link active">首页 / 个人信息</a>
            <a href="#internship-section" class="top-nav-link">实习经历</a>
            <a href="#research-publications-section" class="top-nav-link">科研产出</a>
            <a href="#projects-section" class="top-nav-link">项目经历</a>
            <a href="#patents-section" class="top-nav-link">专利成果</a>
            <button id="darkModeToggle" class="flex items-center">
                <i class="fas fa-moon"></i>
            </button>
        </div>
        <div id="scroll-progress-bar"></div>
    </nav>

    <div class="container">
        <div class="left-col text-center">
            <img id="profile-photo" class="profile-pic image-loading-blur" src="https://raw.githubusercontent.com/alex036225/alex036225.github.io/main/picture.jpg" alt="Profile Photo" />
            
            <h2 class="text-3xl font-extrabold transition-colors duration-500">赵博</h2>

            <p class="mb-4 text-lg transition-colors duration-500"><i class="fas fa-map-marker-alt mr-2"></i>中国深圳</p>

            <div class="contact-info">
                <div class="contact-item">
                    <i class="fas fa-phone"></i>
                    <span class="transition-colors duration-500">15771116225</span>
                </div>
                <div class="contact-item">
                    <i class="fas fa-envelope"></i>
                    <a href="mailto:3057018496@qq.com" class="transition-colors duration-500">3057018496@qq.com</a>
                </div>
                <div class="contact-item">
                    <i class="fab fa-github"></i>
                    <a href="https://github.com/alex036225" target="_blank" class="transition-colors duration-500">Github</a>
                </div>
                <div class="contact-item">
                    <i class="fas fa-graduation-cap"></i>
                    <a href="#" target="_blank" class="transition-colors duration-500">Google Scholar</a>
                </div>
            </div>
        </div>

        <div class="right-col">
            <section id="about-me-section" class="section-content">
                <h2 class="section-title">个人信息 / About Me</h2>
                <!-- New wrapper for the main content of the section, acting as a large card -->
                <div class="main-section-card">
                    <!-- The highlight box is now acting as an inner card itself -->
                    <div class="highlight-box intro-hidden">
                        <p>
                            <i class="fas fa-quote-left mr-2"></i>
                            我的研究重点是利用 <span class="font-semibold keyword-to-animate">大型语言模型 (LLMs)</span> 来解决跨模态生理信号传感领域的复杂问题。这包括在非接触式心率测量 (rPPG) 中，有效融合多模态信息、捕捉长时序依赖，以及提升模型在复杂真实世界环境中的适应性和稳定性。
                        </p>
                    </div>

                    <!-- Changed h2 to h3 and class from section-title to subsection-title-in-card -->
                    <h3 class="subsection-title-in-card">教育背景 / Education</h3>
                    <!-- Removed ml-5 as main-section-card provides padding -->
                    <div>
                        <!-- Education Card 1: Hong Kong Chinese University (Shenzhen) -->
                        <div class="publication-card">
                            <div class="publication-thumbnail">
                                <!-- Actual CUHK(SZ) logo image -->
                                <img class="image-loading-blur" src="https://raw.githubusercontent.com/alex036225/alex036225.github.io/main/香港中文大学(深圳).png" alt="香港中文大学（深圳）校徽" onerror="this.onerror=null;this.src='https://placehold.co/150x120/4a4e69/ffffff?text=CUHK(SZ)%20Logo';" />
                                <span class="status-icon" title="教育经历"><i class="fas fa-graduation-cap"></i></span>
                            </div>
                            <div class="publication-details">
                                <p class="item-title">香港中文大学（深圳）</p>
                                <p class="meta-info">
                                    <span class="major">人工智能与机器人, 硕士</span> | <span class="dates">2025.09 - 2027.06</span>
                                </p>
                                <div class="collapsible-wrapper">
                                    <ul class="project-contribution-list mt-2">
                                        <li>硕士研究方向和主要课程。</li>
                                        <div class="collapsible-content">
                                            <li>（此处可添加更多详情）</li>
                                        </div>
                                    </ul>
                                    <button class="toggle-button" data-target=".collapsible-content">
                                        <span>查看详情</span> <i class="fas fa-chevron-down"></i>
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Education Card 2: Shandong University -->
                        <div class="publication-card">
                            <div class="publication-thumbnail">
                                <!-- Actual Shandong University logo image -->
                                <img class="image-loading-blur" src="https://raw.githubusercontent.com/alex036225/alex036225.github.io/main/山东大学.png" alt="山东大学校徽" onerror="this.onerror=null;this.src='https://placehold.co/150x120/5e503f/ffffff?text=SDU%20Logo';" />
                                <span class="status-icon" title="教育经历"><i class="fas fa-graduation-cap"></i></span>
                            </div>
                            <div class="publication-details">
                                <p class="item-title">山东大学</p>
                                <p class="meta-info">
                                    <span class="major">数学与应用数学, 本科</span> | <span class="dates">2021.09 - 2025.06</span>
                                </p>
                                <div class="collapsible-wrapper">
                                    <ul class="project-contribution-list mt-2">
                                        <li>GPA: 87.42/100</li>
                                        <li>荣誉: 连续三年获得学业奖学金</li>
                                        <div class="collapsible-content">
                                            <li>（此处可添加更多详情）</li>
                                        </div>
                                    </ul>
                                    <button class="toggle-button" data-target=".collapsible-content">
                                        <span>查看详情</span> <i class="fas fa-chevron-down"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Changed h2 to h3 and class from section-title to subsection-title-in-card -->
                    <h3 class="subsection-title-in-card">技能 / Skills</h3>
                    <!-- Removed ml-5 as main-section-card provides padding -->
                    <div class="card-grid">
                        <div class="feature-card">
                            <i class="fas fa-code"></i>
                            <h3>编程语言</h3>
                            <p>Python (常用), C++, Java</p>
                        </div>
                        <div class="feature-card">
                            <i class="fas fa-brain"></i>
                            <h3>深度学习框架</h3>
                            <p>熟悉 PyTorch 环境</p>
                        </div>
                        <div class="feature-card">
                            <i class="fas fa-server"></i>
                            <h3>开发环境</h3>
                            <p>Linux 操作系统, Slurm 集群系统</p>
                        </div>
                        <div class="feature-card">
                            <i class="fas fa-chart-line"></i>
                            <h3>研究方向</h3>
                            <p>多模态大模型, 域泛化, rPPG</p>
                        </div>
                    </div>
                </div>
            </section>

            <section id="internship-section" class="section-content">
                <h2 class="section-title">实习经历 / Internships</h2>
                <div class="ml-5">
                    <!-- Internship Card - Made to resemble publication-card -->
                    <div class="publication-card">
                        <div class="publication-thumbnail">
                            <img class="image-loading-blur" src="https://placehold.co/150x120/8ac926/ffffff?text=Internship" alt="大湾区大学实习封面" onerror="this.onerror=null;this.src='https://placehold.co/150x120/8ac926/ffffff?text=Internship';" />
                            <span class="status-icon" title="实习"><i class="fas fa-briefcase"></i></span>
                        </div>
                        <div class="publication-details">
                            <p class="item-title">大湾区大学</p>
                            <p class="meta-info">访问学生, 2024.12 - 2025.8</p>
                            <div class="collapsible-wrapper">
                                <ul class="project-contribution-list mt-2">
                                    <li>研究方向: 多模态大模型, 域泛化等</li>
                                    <li>主要职责: 作为访问学生, 深入参与国家四青人才实验室及省重点实验室的前沿科研项目, 聚焦多模态大模型和域泛化等前沿方向的研究与开发。</li>
                                    <div class="collapsible-content">
                                        <li>核心贡献: 负责多模态数据预处理、模型构建与算法设计, 直接促成了多篇高水平科研论文的产出, 包括NeurIPS (CCF A类会议) 在投。此外, 由我们模型驱动的智能机器已成功在世界机器人嘉年华展出, 展现了科研成果的实际落地能力。</li>
                                        <li>技术应用: 在研究过程中, 熟练运用 Pytorch 深度学习框架、Python 编程语言以及 Slurm 集群系统进行算法开发与模型训练。</li>
                                    </div>
                                </ul>
                                <button class="toggle-button" data-target=".collapsible-content">
                                    <span>查看详情</span> <i class="fas fa-chevron-down"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="research-publications-section" class="section-content">
                <h2 class="section-title">科研产出 / Research & Publications</h2>
                <div class="ml-5">
                    <div class="publication-card">
                        <div class="publication-thumbnail">
                            <img class="image-loading-blur" src="https://placehold.co/150x120/a8dadc/1d3557?text=NeurIPS+25" alt="PhysLLM 论文封面" onerror="this.onerror=null;this.src='https://placehold.co/150x120/a8dadc/1d3557?text=Paper+1';" />
                            <span class="status-icon" title="状态: 在投"><i class="fas fa-hourglass-half"></i></span>
                        </div>
                        <div class="publication-details">
                            <p class="item-title">PhysLLM: Harnessing Large Language Models for Cross-Modal Remote Physiological Sensing</p>
                            <p class="meta-info">状态: 在投, NeurIPS, CCFA, 共同一作</p>
                            <div class="collapsible-wrapper">
                                <ul class="project-contribution-list mt-2">
                                    <li>研究背景: 远程光电容积描记术(PPG)在复杂环境(光照、运动伪影)下鲁棒性差, 现有方法难以有效融合多模态信息并捕捉长时序依赖。</li>
                                    <div class="collapsible-content">
                                        <li>研究贡献: 提出 PhysLLM, 一个结合 LLMs 与 PPG 专用组件的协同优化框架, rPPG 领域第一个大模型。设计双域平稳算法(DDS), 视觉聚合器(VA), 文本原型引导(TPG)策略, 并通过生理线索感知提示学习增强模型适应性。</li>
                                        <li>论文链接: <a href="https://arxiv.org/abs/2505.03621" target="_blank">https://arxiv.org/abs/2505.03621</a></li>
                                    </div>
                                </ul>
                                <button class="toggle-button" data-target=".collapsible-content">
                                    <span>查看详情</span> <i class="fas fa-chevron-down"></i>
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="publication-card">
                        <div class="publication-thumbnail">
                            <img class="image-loading-blur" src="https://placehold.co/150x120/fcca46/2a2a2a?text=NeurIPS+25" alt="Optimal Transport 论文封面" onerror="this.onerror=null;this.src='https://placehold.co/150x120/fcca46/2a2a2a?text=Paper+2';" />
                            <span class="status-icon" title="状态: 在投"><i class="fas fa-hourglass-half"></i></span>
                        </div>
                        <div class="publication-details">
                            <p class="item-title">Towards Universal rPPG: Optimal Transport-Based Multi-Source Domain Generalization for Remote Physiological Measurement</p>
                            <p class="meta-info">状态: 在投, NeurIPS, CCFA, 独立一作</p>
                            <div class="collapsible-wrapper">
                                <ul class="project-contribution-list mt-2">
                                    <li>背景挑战: 远程光电容积描记术(rPPG)非接触式生理信号测量存在鲁棒性差、长时序依赖和多模态融合局限等问题。</li>
                                    <div class="collapsible-content">
                                        <li>研究贡献: 提出基于最优传输理论的多源领域泛化框架，创新引入 OTAdapter 对齐特征分布，提供泛化边界理论依据，结合 LLMs 增强模型适应性。</li>
                                    </div>
                                </ul>
                                <button class="toggle-button" data-target=".collapsible-content">
                                    <span>查看详情</span> <i class="fas fa-chevron-down"></i>
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="publication-card">
                        <div class="publication-thumbnail">
                            <img class="image-loading-blur" src="https://placehold.co/150x120/20c997/ffffff?text=JBHI" alt="CardiacMamba 论文封面" onerror="this.onerror=null;this.src='https://placehold.co/150x120/20c997/ffffff?text=Paper+3';" />
                            <span class="status-icon" title="状态: 在投"><i class="fas fa-hourglass-half"></i></span>
                        </div>
                        <div class="publication-details">
                            <p class="item-title">CardiacMamba: A Multimodal RGB-RF Fusion Framework with State Space Models for Remote Physiological Measurement</p>
                            <p class="meta-info">状态: 在投, JBHI, JCR Q1, 三作</p>
                            <div class="collapsible-wrapper">
                                <ul class="project-contribution-list mt-2">
                                    <li>背景挑战: 传统 rPPG 单模态方法受环境、运动影响，多模态融合存在特征对齐、频域利用和公平性不足。</li>
                                    <div class="collapsible-content">
                                        <li>研究贡献: 提出 CardiacMamba 融合 RGB-RF 数据，引入时域差分 Mamba 模块(TDMM)和分叉差分卷积融合(BDCF)进行双层特征提取与对齐，通过双向状态空间模型(Bi-SSM)协同建模，设计通道式快速傅里叶变换(CFFT)进行双向特征融合。</li>
                                        <li>成果: 在 EquiPleth 数据集上展现了最先进的性能，显著缓解了肤色偏差问题，并在模态缺失场景下保持了强大的鲁棒性，有效推动了 rPPG 技术在医疗领域的可靠应用。</li>
                                        <li>论文链接: <a href="https://arxiv.org/abs/2502.13624" target="_blank">https://arxiv.org/abs/2502.13624</a></li>
                                    </div>
                                </ul>
                                <button class="toggle-button" data-target=".collapsible-content">
                                    <span>查看详情</span> <i class="fas fa-chevron-down"></i>
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="publication-card">
                        <div class="publication-thumbnail">
                            <img class="image-loading-blur" src="https://placehold.co/150x120/e83e8c/ffffff?text=CCBR" alt="CCBR 论文封面" onerror="this.onerror=null;this.src='https://placehold.co/150x120/e83e8c/ffffff?text=Paper+4';" />
                            <span class="status-icon" title="状态: 在写"><i class="fas fa-pencil-alt"></i></span>
                        </div>
                        <div class="publication-details">
                            <p class="item-title">CCBR</p>
                            <p class="meta-info">状态: 在写, CCBR, 三作</p>
                            <div class="collapsible-wrapper">
                                <ul class="project-contribution-list mt-2">
                                    <li>详细描述: 筹备中的论文，目前正在撰写阶段。</li>
                                </ul>
                                <button class="toggle-button" data-target=".collapsible-content">
                                    <span>查看详情</span> <i class="fas fa-chevron-down"></i>
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="publication-card">
                        <div class="publication-thumbnail">
                            <img class="image-loading-blur" src="https://placehold.co/150x120/007bff/ffffff?text=NMI" alt="NMI 论文封面" onerror="this.onerror=null;this.src='https://placehold.co/150x120/007bff/ffffff?text=Paper+5';" />
                            <span class="status-icon" title="状态: 筹备"><i class="fas fa-spinner fa-spin"></i></span>
                        </div>
                        <div class="publication-details">
                            <p class="item-title">NMI</p>
                            <p class="meta-info">状态: 筹备, Nature Machine Intelligence, 一作</p>
                            <div class="collapsible-wrapper">
                                <ul class="project-contribution-list mt-2">
                                    <li>详细描述: 一项处于初期筹备阶段的重要研究，旨在为 Nature Machine Intelligence 准备。</li>
                                </ul>
                                <button class="toggle-button" data-target=".collapsible-content">
                                    <span>查看详情</span> <i class="fas fa-chevron-down"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="projects-section" class="section-content">
                <h2 class="section-title">项目经历 / Projects</h2>
                <div class="ml-5">
                    <div class="publication-card">
                        <div class="publication-thumbnail">
                            <img class="image-loading-blur" src="https://placehold.co/150x120/f94144/ffffff?text=Project+1" alt="信息扩散模型封面" onerror="this.onerror=null;this.src='https://placehold.co/150x120/f94144/ffffff?text=Project+1';" />
                            <span class="status-icon" title="项目"><i class="fas fa-project-diagram"></i></span>
                        </div>
                        <div class="publication-details">
                            <p class="item-title">信息扩散模型建立</p>
                            <p class="meta-info">2023.06 (排名: 1/133)</p>
                            <div class="collapsible-wrapper">
                                <ul class="project-contribution-list mt-2">
                                    <li>探究信息扩散能力, 旨在定量分析病毒式市场营销、谣言控制等实际场景;</li>
                                    <div class="collapsible-content">
                                        <li>建立合适的信息扩散模型, 利用 Java 对信息节点激活机制进行代码实现;</li>
                                        <li>对数据集节点的影响能力进行初步排序, 依据单点的影响力制定合理的种子节点选择策略。</li>
                                    </div>
                                </ul>
                                <button class="toggle-button" data-target=".collapsible-content">
                                    <span>查看详情</span> <i class="fas fa-chevron-down"></i>
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="publication-card">
                        <div class="publication-thumbnail">
                            <img class="image-loading-blur" src="https://placehold.co/150x120/577590/ffffff?text=Project+2" alt="量子退火算法项目封面" onerror="this.onerror=null;this.src='https://placehold.co/150x120/577590/ffffff?text=Project+2';" />
                            <span class="status-icon" title="项目"><i class="fas fa-flask"></i></span>
                        </div>
                        <div class="publication-details">
                            <p class="item-title">基于量子退火算法——QUBO 模型的信用评分卡组合优化问题 (国三)</p>
                            <p class="meta-info">2023.04</p>
                            <div class="collapsible-wrapper">
                                <ul class="project-contribution-list mt-2">
                                    <li>结合量子退火算法与 QUBO 模型, 列出数学模型所需数学方程;</li>
                                    <div class="collapsible-content">
                                        <li>使用 pyqubo 库建立 QUBO 模型, 将数学模型进行代码实现, 利用 neal 库中的退火算法函数求解模型;</li>
                                        <li>完成 10000 字论文一篇, 获得 Mathorcup 数模竞赛国家三等奖。</li>
                                    </div>
                                </ul>
                                <button class="toggle-button" data-target=".collapsible-content">
                                    <span>查看详情</span> <i class="fas fa-chevron-down"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="patents-section" class="section-content">
                <h2 class="section-title">专利成果 / Patents</h2>
                <div class="ml-5">
                    <div class="publication-card">
                        <div class="publication-thumbnail">
                            <img class="image-loading-blur" src="https://placehold.co/150x120/43aa8b/ffffff?text=Patent+1" alt="专利1封面" onerror="this.onerror=null;this.src='https://placehold.co/150x120/43aa8b/ffffff?text=Patent+1';" />
                            <span class="status-icon" title="专利"><i class="fas fa-certificate"></i></span>
                        </div>
                        <div class="publication-details">
                            <p class="item-title">基于大语言模型的跨模态远程生理信号感知</p>
                            <p class="meta-info">状态: 审核, 发明专利</p>
                            <ul class="project-contribution-list mt-2">
                                <li>此专利聚焦于利用大语言模型提升跨模态远程生理信号感知的准确性和鲁棒性。</li>
                            </ul>
                        </div>
                    </div>
                    <div class="publication-card">
                        <div class="publication-thumbnail">
                            <img class="image-loading-blur" src="https://placehold.co/150x120/90be6d/ffffff?text=Patent+2" alt="专利2封面" onerror="this.onerror=null;this.src='https://placehold.co/150x120/90be6d/ffffff?text=Patent+2';" />
                            <span class="status-icon" title="专利"><i class="fas fa-certificate"></i></span>
                        </div>
                        <div class="publication-details">
                            <p class="item-title">基于时频大语言模型的框架增强时间序列方法</p>
                            <p class="meta-info">状态: 审核, 发明专利</p>
                            <ul class="project-contribution-list mt-2">
                                <li>此专利探索如何通过结合时频分析和大语言模型框架来增强时间序列数据的处理和分析能力。</li>
                            </ul>
                        </div>
                    </div>
                    <div class="publication-card">
                        <div class="publication-thumbnail">
                            <img class="image-loading-blur" src="https://placehold.co/150x120/f9c74f/ffffff?text=Patent+3" alt="专利3封面" onerror="this.onerror=null;this.src='https://placehold.co/150x120/f9c74f/ffffff?text=Patent+3';" />
                            <span class="status-icon" title="专利"><i class="fas fa-certificate"></i></span>
                        </div>
                        <div class="publication-details">
                            <p class="item-title">基于最优运输理论的鲁棒远程生理信号感知</p>
                            <p class="meta-info">状态: 审核, 发明专利</p>
                            <ul class="project-contribution-list mt-2">
                                <li>此专利利用最优运输理论来提高远程生理信号感知的鲁棒性，使其在复杂环境下表现更稳定。</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </div>

    <!-- Back to Top Button -->
    <button id="backToTopBtn" title="回到顶部">
        <i class="fas fa-arrow-up"></i>
    </button>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const navLinks = document.querySelectorAll('.top-nav-link');
            const sections = document.querySelectorAll('.right-col section');
            let currentActiveSection = null;
            const htmlElement = document.documentElement;
            const darkModeToggle = document.getElementById('darkModeToggle');
            const scrollProgressBar = document.getElementById('scroll-progress-bar');
            const backToTopBtn = document.getElementById('backToTopBtn');
            const mainTitle = document.getElementById('mainTitle'); // Get the main title element
            const topNav = document.querySelector('.top-nav'); // Get the top navigation bar

            // Function to get the height of the top navigation bar
            function getTopNavHeight() {
                return topNav ? topNav.offsetHeight : 0;
            }

            // Function to initialize dark mode based on localStorage
            function initDarkMode() {
                const storedTheme = localStorage.getItem('theme');
                if (storedTheme === 'dark') {
                    htmlElement.classList.add('dark');
                    darkModeToggle.innerHTML = '<i class="fas fa-sun"></i>';
                } else {
                    htmlElement.classList.remove('dark');
                    localStorage.setItem('theme', 'light'); // Ensure 'light' is set if not 'dark'
                    darkModeToggle.innerHTML = '<i class="fas fa-moon"></i>';
                }
            }

            // Function to toggle dark mode
            function toggleDarkMode() {
                if (htmlElement.classList.contains('dark')) {
                    htmlElement.classList.remove('dark');
                    localStorage.setItem('theme', 'light');
                    darkModeToggle.innerHTML = '<i class="fas fa-moon"></i>';
                } else {
                    htmlElement.classList.add('dark');
                    localStorage.setItem('theme', 'dark');
                    darkModeToggle.innerHTML = '<i class="fas fa-sun"></i>';
                }
            }

            // Function to set the active navigation link
            function setActiveLink(clickedLink) {
                navLinks.forEach(link => {
                    link.classList.remove('active');
                });
                clickedLink.classList.add('active');
            }

            // Function to show a specific section with transition
            function showSection(targetId) {
                const targetSection = document.querySelector(targetId);
                const aboutMeHighlightBox = document.querySelector('#about-me-section .highlight-box');
                const aboutMeKeyword = document.querySelector('#about-me-section .keyword-to-animate');
                const navHeight = getTopNavHeight();

                if (!targetSection || targetSection === currentActiveSection) {
                    return;
                }

                // If there's an active section, fade it out first
                if (currentActiveSection) {
                    // Start the fade-out and slide-down transition
                    currentActiveSection.classList.remove('active-section');
                    currentActiveSection.classList.add('section-hidden');

                    // Reset About Me animations when moving away from it
                    if (currentActiveSection.id === 'about-me-section') {
                        if (aboutMeHighlightBox) {
                            aboutMeHighlightBox.classList.remove('intro-visible');
                            aboutMeHighlightBox.classList.add('intro-hidden');
                        }
                        if (aboutMeKeyword) {
                            aboutMeKeyword.classList.remove('animate-pulse-keyword');
                        }
                    }

                    // Use a temporary flag to ensure the transitionend listener fires only once per transition
                    let transitionEnded = false;
                    const onTransitionEnd = (event) => {
                        // Ensure it's the opacity transition property that ended to avoid multiple triggers
                        if (event.propertyName === 'opacity' && !transitionEnded) {
                            transitionEnded = true;
                            currentActiveSection.removeEventListener('transitionend', onTransitionEnd);
                            currentActiveSection.style.display = 'none'; // Hide old section after its transition

                            // Now, prepare and show the new section
                            targetSection.style.display = 'block'; // Make the new section take up space
                            // A small timeout allows the browser to re-render with display: block before applying active-section
                            // This ensures the fade-in animation plays correctly.
                            setTimeout(() => {
                                targetSection.classList.remove('section-hidden');
                                targetSection.classList.add('active-section');
                                currentActiveSection = targetSection;

                                // Scroll to the top of the newly activated section, accounting for sticky nav
                                const scrollPosition = targetSection.offsetTop - navHeight;
                                window.scrollTo({
                                    top: scrollPosition,
                                    behavior: 'smooth'
                                });

                                // Trigger About Me animations if it's the new active section
                                if (targetSection.id === 'about-me-section') {
                                    if (aboutMeHighlightBox) {
                                        aboutMeHighlightBox.classList.remove('intro-hidden');
                                        aboutMeHighlightBox.classList.add('intro-visible');
                                    }
                                    if (aboutMeKeyword) {
                                        setTimeout(() => {
                                            aboutMeKeyword.classList.add('animate-pulse-keyword');
                                        }, 500); // Start animation 0.5s after fade-in
                                    }
                                }
                            }, 10); // Small delay to ensure display: block applies before transition
                        }
                    };
                    currentActiveSection.addEventListener('transitionend', onTransitionEnd);

                } else {
                    // This block handles the initial load or if there was no prior active section
                    // Ensure target is visible and then activate for animation
                    targetSection.style.display = 'block'; // Ensure it's block before applying active-section
                    targetSection.classList.remove('section-hidden');
                    targetSection.classList.add('active-section');
                    currentActiveSection = targetSection;

                    // Scroll to the top of the newly activated section
                    const scrollPosition = targetSection.offsetTop - navHeight;
                    window.scrollTo({
                        top: scrollPosition,
                        behavior: 'smooth'
                    });

                    // Trigger About Me animations if it's the initial active section
                    if (targetSection.id === 'about-me-section') {
                        const aboutMeHighlightBox = document.querySelector('#about-me-section .highlight-box');
                        const aboutMeKeyword = document.querySelector('#about-me-section .keyword-to-animate');
                        if (aboutMeHighlightBox) {
                            aboutMeHighlightBox.classList.remove('intro-hidden');
                            aboutMeHighlightBox.classList.add('intro-visible');
                        }
                        if (aboutMeKeyword) {
                            setTimeout(() => {
                                aboutMeKeyword.classList.add('animate-pulse-keyword');
                            }, 500);
                        }
                    }
                }
            }

            // Function to update the scroll progress bar
            function updateScrollProgressBar() {
                // Calculate scrollable height considering the sticky nav
                const totalHeight = document.documentElement.scrollHeight;
                const viewportHeight = document.documentElement.clientHeight;
                const navHeight = getTopNavHeight();
                // We consider the scrollable area to be from the bottom of the nav to the end of content
                const scrollableContentHeight = totalHeight - viewportHeight;
                
                // Adjust scroll position by nav height for accurate progress calculation
                const scrolled = document.documentElement.scrollTop;
                
                // Ensure progress doesn't go below 0 or above 100%
                let progress = 0;
                if (scrollableContentHeight > 0) {
                    progress = (scrolled / scrollableContentHeight) * 100;
                }
                
                scrollProgressBar.style.width = `${progress}%`;

                // Show/hide back to top button
                if (scrolled > 300) { // Show button after scrolling 300px
                    backToTopBtn.classList.add('show');
                    backToTopBtn.style.display = 'block'; // Ensure it's block to animate opacity
                } else {
                    backToTopBtn.classList.remove('show');
                    // Hide completely after transition for accessibility/layout
                    setTimeout(() => {
                            if (!backToTopBtn.classList.contains('show')) { // Only hide if not re-shown during timeout
                                backToTopBtn.style.display = 'none';
                            }
                    }, 300); // Match opacity transition duration
                }
            }

            // Function to scroll to top smoothly
            function scrollToTop() {
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            }

            // Initial setup for sections: ensure all non-active sections are hidden from the start
            sections.forEach(section => {
                if (!section.classList.contains('active-section')) {
                    section.classList.add('section-hidden'); // This applies opacity 0 and transform and display: none
                    section.style.display = 'none'; // Directly hide them so they don't take up space initially
                }
            });

            // Initialize dark mode on page load
            initDarkMode();

            // Set initial section based on URL hash or default to about-me
            const initialSectionId = window.location.hash || '#about-me-section';
            const initialNavLink = document.querySelector(`.top-nav-link[href="${initialSectionId}"]`);
            
            // Activate the initial section directly without a fade-out from nothing
            if (initialNavLink) {
                setActiveLink(initialNavLink); // This call is now safe because setActiveLink is defined above
                const targetSection = document.querySelector(initialSectionId);
                if (targetSection) {
                    targetSection.style.display = 'block'; // Ensure it's visible before activating
                    targetSection.classList.remove('section-hidden'); // Remove hidden state
                    targetSection.classList.add('active-section'); // Apply active state
                    currentActiveSection = targetSection;

                    // Trigger About Me animations if it's the initial section
                    if (targetSection.id === 'about-me-section') {
                        const aboutMeHighlightBox = document.querySelector('#about-me-section .highlight-box');
                        const aboutMeKeyword = document.querySelector('#about-me-section .keyword-to-animate');
                        if (aboutMeHighlightBox) {
                            aboutMeHighlightBox.classList.remove('intro-hidden');
                            aboutMeHighlightBox.classList.add('intro-visible');
                        }
                        if (aboutMeKeyword) {
                            setTimeout(() => {
                                aboutMeKeyword.classList.add('animate-pulse-keyword');
                            }, 500);
                        }
                    }
                }
            }

            // Add event listeners for navigation links
            navLinks.forEach(link => {
                link.addEventListener('click', function(event) {
                    event.preventDefault(); // Prevent default anchor jump
                    const targetId = this.getAttribute('href');
                    showSection(targetId);
                    setActiveLink(this);
                });
            });

            // Add event listener for the main title to scroll to top
            if (mainTitle) {
                mainTitle.addEventListener('click', scrollToTop);
            }

            // Add event listener for dark mode toggle
            darkModeToggle.addEventListener('click', toggleDarkMode);

            // Add event listener for scroll progress bar
            window.addEventListener('scroll', updateScrollProgressBar);
            // Initial call to set progress bar state
            updateScrollProgressBar();

            // Add event listener for back to top button
            backToTopBtn.addEventListener('click', scrollToTop);

            // Handle collapsible content
            document.querySelectorAll('.toggle-button').forEach(button => {
                button.addEventListener('click', function() {
                    // Find the closest parent with class 'collapsible-wrapper'
                    // Then find the .collapsible-content descendant within that wrapper
                    const collapsibleWrapper = this.closest('.collapsible-wrapper');
                    const collapsibleContent = collapsibleWrapper ? collapsibleWrapper.querySelector('.collapsible-content') : null;
                    const icon = this.querySelector('i');
                    const textSpan = this.querySelector('span');

                    if (collapsibleContent) { // Ensure collapsibleContent is not null before accessing its properties
                        if (collapsibleContent.classList.contains('expanded')) {
                            collapsibleContent.classList.remove('expanded');
                            icon.classList.remove('fa-chevron-up');
                            icon.classList.add('fa-chevron-down');
                            textSpan.textContent = '查看详情';
                        } else {
                            collapsibleContent.classList.add('expanded');
                            icon.classList.remove('fa-chevron-down');
                            icon.classList.add('fa-chevron-up');
                            textSpan.textContent = '收起详情';
                        }
                    } else {
                        console.error("Collapsible content not found for this button.");
                    }
                });
            });

            // Image loading blur effect
            const images = document.querySelectorAll('img.image-loading-blur');
            images.forEach(img => {
                if (img.complete) { // If image is already loaded (e.g., from cache)
                    img.classList.remove('image-loading-blur');
                    img.classList.add('image-loaded');
                } else {
                    img.onload = () => {
                        img.classList.remove('image-loading-blur');
                        img.classList.add('image-loaded');
                    };
                    img.onerror = () => { // Fallback for broken images
                        img.classList.remove('image-loading-blur');
                        img.classList.add('image-loaded'); // Still reveal, but might show broken icon
                        console.warn('Failed to load image:', img.src);
                    };
                }
            });
        });
    </script>
</body>
</html>
